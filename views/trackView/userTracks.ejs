<!DOCTYPE html>
<html>
  <head>
    <title><%= user %> - All Tracks</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.17.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@300&display=swap" rel="stylesheet">
    <link href="/stylesheets/all.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@600&display=swap" rel="stylesheet">
    <link href="/stylesheets/all.css" rel="stylesheet">
  </head>
  <body>
    <h1><%= user %> - My Tracks</h1>
    <div class="mytracks-left-buttons">
    <a href="/" class="btn btn-light">
        <i class="bi bi-house-door-fill"></i> Back to Home
    </a>
    <a href="/add/addTrack" class="btn btn-primary"><strong>+ Add New Track</strong></a>
</div>
    <table class="table table-striped table-hover">
      <thead>
        <tr id="table-top">
            <th class="fav-width">
                <img src="/images/icons/favheading.png" alt="Favorite Heading Icon" width="24" height="24">
            </th>
            <th class="track-width">
                <img id="imagepad" src="/images/icons/track.jpg" alt="Track Icon" width="20" height="20">
                Track
            </th>
            <th class="track-width">
                <img id="imagepad" src="/images/icons/artist.png" alt="Artist Icon" width="20" height="20">
                Artist
            </th>
            <th class="track-width">
                <img id="imagepad" src="/images/icons/album.png" alt="Album Icon" width="20" height="20">
                Album
            </th>
            <th class="date-width">
                <img id="imagepad" src="/images/icons/cal.png" alt="Calendar Icon" width="20" height="20">
                Date Added
            </th>
            <th>
                <img id="imagepad" src="/images/icons/source.png" alt="Source Icon" width="20" height="20">
                Source
            </th>
            <th>
                <img id="imagepad" src="/images/icons/disco.png" alt="Discovery Icon" width="17" height="17">
                Disc.
            </th>
            <th class="listen-column">
                <img src="/images/icons/headphones.png" alt="Headphones Icon" width="22" height="22">
            </th>
            <th><img src="/images/icons/edithead.png" alt="Edit Heading Icon" width="24" height="24"></th>
        </tr>
    </thead>
          <tbody>
            <% tracks.forEach(track => { %>
              <tr>
                <td class="fav-width">
                    <% if (track.favorite) { %>
                        <img src="/images/icons/fav.png" alt="Favorite Icon" width="24" height="24">
                    <% } else { %>
                        &nbsp;
                    <% } %>
                </td>
                <td><a href="/trackView/track/<%= track._id %>"><strong><%= track.song %></strong></a></td>
                <td><%= track.artist %></td>
                <td><%= track.album %></td>
                <td class="date-width"><%= track.dateAdded.toDateString() %></td>
                <td><%= track.source.join(', ') %></td>
                <td class="wrap-text"><%= track.discovery.join(', ') %></td>
                <td class="listen-column">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-primary" onclick="window.open('<%= track.link %>', '_blank')"><%= track.source %></button>
                    </div>
                </td>
                <td>
                    <a href="/add/editTrack/<%= track._id %>">
                        <img src="/images/icons/edit.png" alt="Edit Icon" width="24" height="24">
                    </a>
                </td>
              </tr>
            <% }); %>
          </tbody>
    </table>
  </body>
</html>